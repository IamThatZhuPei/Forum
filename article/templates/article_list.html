{% extends "base.html" %}
{% block content %}
    <ol class="breadcrumb">
        <li><a href="/">首页</a></li>
        <li class="active">{{ b.name }}</li>
    </ol>

    <a href="/article/create/{{ b.id }}" class="btn btn-primary">创建文章</a>
    <br>
    <br>
    <table class="table table-hover">
        <thead>
            <tr>
                <th>标题</th>
                <th>作者</th>
                <th>创建时间</th>
                <th>最后更新时间</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}
            <tr>
                <td><a href="/article/detail/{{ article.id }}">{{ article.title }}</a></td>
                <td>{{ article.content }}</td>
                <td>{{ article.create_timestamp|date:'Y-m-d H:i' }}</td>
                <td>{{ article.last_update_timestamp|date:'Y-m-d H:i' }}</td>
            </tr>
            {% endfor %}

        </tbody>

            <nav aria-label="Page navigation">
                <ul class="pagination">

                    {% if page_elem.previous_link > 0 %}
                    <li>
                        <a href="?page_no=1">首页</a>
                    </li>
                    {% endif %}

                    {% if page_elem.has_previous %}
                    <li>
                        <a href="?page_no={{ page_elem.previous_link }}">&laquo;</a>
                    </li>
                    {% endif %}

                    {% for p in page_elem.page_links %}
                        {% if p == page_elem.current_no %}
                        <li class="active">
                            <a href="?page_no={{ p }}">{{ p }}</a>
                        </li>
                        {% else %}
                        <li>
                            <a href="?page_no={{ p }}">{{ p }}</a>
                        </li>
                        {% endif %}
                    {% endfor %}

                    {% if page_elem.has_next %}
                    <li>
                        <a href="?page_no={{ page_elem.next_link }}">&raquo;</a>
                    </li>
                    {% endif %}

                    {% if page_elem.next_link < page_elem.page_cnt %}
                    <li>
                        <a href="?page_no={{ page_elem.page_cnt }}">尾页</a>
                    </li>
                    {% endif %}

                </ul>

            </nav>



    </table>
{% endblock %}